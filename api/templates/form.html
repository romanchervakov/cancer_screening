<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bootstrap demo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
</head>
<style>
  body {
    background: #fafafa;
    color: #333333;
    margin-top: 2rem;
  }
  .content-section {
    background: #ffffff;
    padding: 10px 20px;
    border: 1px solid #dddddd;
    border-radius: 5px;
    margin-bottom: 20px;
    max-width: max-content;
  }
  @media screen {
      .modal-xl {
          max-width: max-content;
      }
  }
</style>
<body>
<h1 class="d-flex justify-content-center" style="margin-bottom: 2rem">БУЗ ВО "ВГКП № 1"</h1>
<div class="container content-section">

    <script>
        $(document).ready(function() {
            $('#start').click(function (){
                if (document.forms['sform'].reportValidity()) {
                    $('#staticBackdropLoading').modal('show')
                }
            })
        })
    </script>

    <!-- Loading -->
    <div class="modal fade" id="staticBackdropLoading" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content d-flex justify-content-center">
                <button class="btn btn-danger" type="button">
                    <span class="spinner-border spinner-border-sm" aria-hidden="true"></span>
                    <span role="status">Обработка анкеты...</span>
                </button>
            </div>
        </div>
    </div>

    {% if form %}
  <form method="POST" action="{{ url_for('form') }}" id="sform">
    <fieldset class="form-group">
      <legend class="border-bottom mb-3">Анкета профилактического опроса пациентов по онконастороженности</legend>

      <div class="form-group mb-3">
        <label class="form-label" id="q1">1. Есть ли на коже и слизистых незаживающие язвы, трещины, образования?</label>

        <br>
        <input type="radio" class="btn-check" name="rq1" id="yes1" autocomplete="off" value="yes" required>
        <label class="btn btn-outline-danger" for="yes1" style="width: 100px;">Да</label>

        <input type="radio" class="btn-check" name="rq1" id="no1" autocomplete="off" value="no" required>
        <label class="btn btn-outline-danger" for="no1"  style="width: 100px;">Нет</label>
      </div>

      <div class="form-group mb-3">
        <label class="form-label" id="q2">2. Имеются ли затруднения при проглатывании пищи?</label>

        <br>
        <input type="radio" class="btn-check" name="rq2" id="yes2" autocomplete="off" value="yes" required>
        <label class="btn btn-outline-danger" for="yes2" style="width: 100px;">Да</label>

        <input type="radio" class="btn-check" name="rq2" id="no2" autocomplete="off" value="no" required>
        <label class="btn btn-outline-danger" for="no2" style="width: 100px;">Нет</label>
      </div>

      <div class="form-group mb-3">
        <label class="form-label" id="q3">3. Отмечаются ли нарастающее похудение, постоянные отрыжка, рвота, чувство тяжести и боли в животе?</label>

        <br>
        <input type="radio" class="btn-check" name="rq3" id="yes3" autocomplete="off" value="yes" required>
        <label class="btn btn-outline-danger" for="yes3" style="width: 100px;">Да</label>

        <input type="radio" class="btn-check" name="rq3" id="no3" autocomplete="off" value="no" required>
        <label class="btn btn-outline-danger" for="no3" style="width: 100px;">Нет</label>
      </div>

      <div class="form-group mb-3">
        <label class="form-label" id="q4">4. Замечали ли Вы примесь крови, слизи в моче, кале?</label>

        <br>
        <input type="radio" class="btn-check" name="rq4" id="yes4" autocomplete="off" value="yes" required>
        <label class="btn btn-outline-danger" for="yes4" style="width: 100px;">Да</label>

        <input type="radio" class="btn-check" name="rq4" id="no4" autocomplete="off" value="no" required>
        <label class="btn btn-outline-danger" for="no4" style="width: 100px;">Нет</label>
      </div>


      <div class="form-group mb-3">
        <label class="form-label" id="q5">5. Есть ли в настоящее время кашель, кровохарканье, боли в грудной клетке, осиплость голоса?</label>

        <br>
        <input type="radio" class="btn-check" name="rq5" id="yes5" autocomplete="off" value="yes" required>
        <label class="btn btn-outline-danger" for="yes5" style="width: 100px;">Да</label>

        <input type="radio" class="btn-check" name="rq5" id="no5" autocomplete="off" value="no" required>
        <label class="btn btn-outline-danger" for="no5" style="width: 100px;">Нет</label>
      </div>

      <div class="form-group mb-3">
        <label class="form-label" id="q6">6. Есть ли уплотнения в молочных железах?</label>

        <br>
        <input type="radio" class="btn-check" name="rq6" id="yes6" autocomplete="off" value="yes" required>
        <label class="btn btn-outline-danger" for="yes6" style="width: 100px;">Да</label>

        <input type="radio" class="btn-check" name="rq6" id="no6" autocomplete="off" value="no" required>
        <label class="btn btn-outline-danger" for="no6" style="width: 100px;">Нет</label>
      </div>

      <div class="form-group mb-3">
        <label class="form-label" id="q7">7. Не увеличены ли лимфоузлы?</label>

        <br>
        <input type="radio" class="btn-check" name="rq7" id="yes7" autocomplete="off" value="yes" required>
        <label class="btn btn-outline-danger" for="yes7" style="width: 100px;">Да</label>

        <input type="radio" class="btn-check" name="rq7" id="no7" autocomplete="off" value="no" required>
        <label class="btn btn-outline-danger" for="no7" style="width: 100px;">Нет</label>
      </div>

      <div class="form-group mb-3">
        <label class="form-label" id="q8">8. Не проходил ли флюорографию за последние 2 года?</label>

        <br>
        <input type="radio" class="btn-check" name="rq8" id="yes8" autocomplete="off" value="yes" required>
        <label class="btn btn-outline-danger" for="yes8" style="width: 100px;">Да</label>

        <input type="radio" class="btn-check" name="rq8" id="no8" autocomplete="off" value="no" required>
        <label class="btn btn-outline-danger" for="no8" style="width: 100px;">Нет</label>
      </div>

      <div class="form-group mb-3">
        <label class="form-label" id="q9">9. Не посещал смотровой кабинет более 2 лет?</label>

        <br>
        <input type="radio" class="btn-check" name="rq9" id="yes9" autocomplete="off" value="yes" required>
        <label class="btn btn-outline-danger" for="yes9" style="width: 100px;">Да</label>

        <input type="radio" class="btn-check" name="rq9" id="no9" autocomplete="off" value="no" required>
        <label class="btn btn-outline-danger" for="no9" style="width: 100px;">Нет</label>
      </div>

    </fieldset>
    <button type="submit" class="btn btn-danger w-100" id="start">Проверить анкету</button>
  </form>
    {% endif %}

{% if negative %}
    <h4>Спасибо за прохождение анкетирования!</h4>
    По результатам данной анкеты у вас не выявлено никаких отклонений.
{% endif %}

{% if positive %}
    <div class="container">
    <p class="text-danger">При анализе Вашей анкеты были выявлены положительные ответы. <br>Пожалуйста, <strong>запомните номер анкеты</strong>
        и назовите его специалисту центра первичной диагностики по телефону <br><a class="fs-5 fw-bold text-danger d-flex justify-content-center" href="tel:+7 (123)-456-7890">+7 (123)-456-7890.</a>
        <br>Он проконсультирует Вас и направит на необходимые обследования.</p>
    <hr>
    <h5 class="text-danger d-flex justify-content-center">Номер анкеты: </h5>
    <h1 class="fw-bold text-danger d-flex justify-content-center">{{ number }}</h1>
    </div>
{% endif %}



</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>
